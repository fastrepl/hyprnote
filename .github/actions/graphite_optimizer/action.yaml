name: Graphite CI Optimizer
description: Check if CI should be skipped for stacked PRs

inputs:
  graphite_token:
    description: Graphite API token
    required: true

outputs:
  skip:
    description: Whether to skip CI
    value: ${{ steps.check_skip.outputs.skip }}

runs:
  using: composite
  steps:
    - id: check_skip
      uses: withgraphite/graphite-ci-action@main
      with:
        graphite_token: ${{ inputs.graphite_token }}
