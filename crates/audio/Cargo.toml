[package]
name = "audio"
version = "0.1.0"
edition = "2021"

[dependencies]
anyhow = { workspace = true }
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }
tokio = { workspace = true, features = ["rt", "macros"] }
futures = { workspace = true }
futures-core = { workspace = true }
futures-util = { workspace = true }
futures-channel = { workspace = true }

cpal = { workspace = true }
rodio = { workspace = true, features = ["wav", "hound", "vorbis"] }
kalosm-sound = { version = "0.3.5", default-features = false }
dasp = { version = "0.11.0", features = ["all"] }

[dev-dependencies]
rodio = "*"
serial_test = { workspace = true }

[target.'cfg(target_os = "macos")'.dependencies.cidre]
git = "https://github.com/yury/cidre"
rev = "7bc6c3addbd3fe2c586fbe15319a17f6d16c9049"
features = ["av"]

[target.'cfg(target_os = "windows")'.dependencies.windows]
version = "0.58.0"
features = ["Win32_Foundation", "Win32_System_Com"]
